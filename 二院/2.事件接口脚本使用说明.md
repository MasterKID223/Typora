### 使用说明

事件图谱相关接口脚本：``server_main.py`。在接口脚本中暂时提供了5中方法：从日志文件中解析事件、创建知识图谱、手动添加事件、根据想定名称展示图谱、根据时间段展示、根据事件得到事件链。

如何使用

```python
python server_main.py --相关参数 值 ...
# 例如
python server_main.py --neo4j_url http://localhost:7474/ --neo4j_username neo4j --neo4j_password 12345678 --method create_ekg --ts_json json_dumps_str
```

**脚本参数说明：**

- `--method`

  指定本次执行的方法。参数值必须是以下字符串：

  ```python
  ['extract_event', 'create_ekg', 'add_event', 'create_ekg_by_scene_name',                      'show_by_time', 'get_link_by_event']
  ```

- `--neo4j_url`

  neo4j数据库访问连接。

- `--neo4j_username`

  访问neo4j数据库的用户名。

- `--neo4j_password`

  neo4j数据库访问密码

- `--graph_name`

  想定名称，这里保持默认设置"neo4j"。<font color=red>执行脚本时不需要专门指定这个参数。</font>

------

- `--file`

  extract_event方法的参数。值是需要解析的日志文件路径。

------




- `--json_file`

  create_ekg方法的参数。值是解析出来json路径。

  注：在现在的这个想定下，创建需要5分钟左右。


------

add_event方法参数，参数含义和之前定义的接口文件保持一致。


- `--headEntity`
- `--relationship`
- `--tailEntity`
- `--time`
- `--linkIndex`

------

create_ekg_by_scene_name方法参数。


- `--scenarioName`

  想定名称。<font color=red>保持默认设置，执行脚本过程中不需要专门指定。</font>

------

show_by_time方法参数，参数含义和之前定义的接口文件保持一致。。


- `--startTime`
- `--endTime`

------

get_link_by_event方法参数。


- `--event`

  值是整个事件的字符串，即把5元组拼成字符串之后当成输入。

  ```python
  # 例如
  python server_main.py --neo4j_url http://localhost:7474/ --neo4j_username neo4j --neo4j_password 12345678 --method get_link_by_event --event 地空导弹营(SA-26 [S-350“勇士”防空导弹系统])@发射@SA-26 [9M96D]@552@1526
  ```

  