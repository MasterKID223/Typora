### 服务器上配置MySQL远程连接

直接安装MySQL：`sudo apt-get install mysql-server`。

初始化root密码：[[博客](https://linuxnightly.com/error-1698-28000-access-denied-for-user-rootlocalhost/)]

执行`mysql -u root -p`时出现如下错误：

```
ERROR 1698 (28000): Access denied for user 'root'@'localhost'
```

```shell
sudo mysql -u root
```

```
mysql> USE mysql;
mysql> UPDATE user SET plugin='mysql_native_password' WHERE User='root';
mysql> FLUSH PRIVILEGES;
```

```
mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password_here';
mysql> exit;
```

```shell
sudo systemctl restart mysql
```

```shell
mysql -u root -p
```

在本地远程连接连接不上：[[博客](https://tableplus.com/blog/2019/10/lost-connection-mysql-reading-initial-communication-package.html)] [[博客园](https://www.cnblogs.com/youqc/p/10476605.html)]

~~把`/etc/mysql/mysql.conf.d/mysqld.cnf`中的`#bind-address = 127.0.0.1`注释掉。~~

~~然后`sudo service mysql restart`。~~

最后原因是：在最开始初始化root密码时，指定了root@localhost，那就只能localhost访问，所以修改成root@%，让所有ip都可以访问。