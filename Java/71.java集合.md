## java集合



### hashmap红黑树转换条件

1. **阈值**：默认情况下，如果链表中的节点数达到==了8个==（这个数值可以通过 `treeifyThreshold` 属性调整），那么这个链表就会被转换成红黑树。这个阈值是为了确保转换为树结构是有利可图的，因为对于较小的链表来说，使用红黑树可能不会比简单的链表带来更好的性能提升。

2. **HashMap容量**：除了链表的长度之外，还需要考虑HashMap的容量。只有当HashMap的容量至少为64（默认初始容量为==16==，每次扩容为当前容量的两倍）时，才会考虑将链表转换为红黑树。这是因为树化操作需要足够的容量来分散元素，从而减少树的高度并提高性能。

这两个条件结合起来意味着，在HashMap中的任意槽位上的链表节点数达到8，并且HashMap已经经历过至少一次扩容使其容量达到了64或更高时，链表将会被转换成红黑树。

需要注意的是，这些参数可以被调整，例如通过 `jdk.map.althreshold` 系统属性可以改变转换为红黑树的阈值。但是，默认情况下，上述描述的行为是标准的实现方式。****