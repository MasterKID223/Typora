## 2024_04_02 美团到店

时间：19:15 - 20:15

部门：到店事业群-平台技术部

### 问题

第一个项目介绍

为什么要用微服务架构

微服务架构的好处是什么

Redis的常用数据结构有哪些

介绍一下Zset

- Zset的索引是怎么建的，索引数量怎么算

  `ZSET`，或有序集合，是Redis中一种非常有用的数据结构，它允许你将一组唯一的字符串元素存储在一个集合中，并且每个元素都关联着一个浮点数分数，这使得集合中的元素能够被有序地排序。在Redis中，`ZSET`的实现依赖于两种数据结构：跳跃表（Skip List）和散列表（Hash Table）。

  1. **跳跃表（Skip List）**：跳跃表是`ZSET`的主要数据结构，用于保持元素的有序性。它是一种概率性数据结构，与平衡树类似，可以提供平均和最坏情况下都是O(logN)复杂度的元素查找、插入、删除操作。在跳跃表中，每个节点包含了多个指向不同级别的下一个节点的指针，通过这种方式，跳跃表能够在跳过部分节点的同时快速前进，从而高效地实现查询和更新操作。跳跃表特别适用于实现有序集合，因为它可以在保持元素排序的同时，快速地执行插入、删除和搜索操作。

  2. **散列表（Hash Table）**：散列表用于存储元素到分数的映射，使得对任何元素，我们都可以在O(1)时间复杂度内找到其对应的分数。在Redis的`ZSET`中，每个元素都是唯一的，而散列表恰好提供了一种高效的方式来维护元素到分数的映射，从而支持快速的分数查找和更新操作。

  通过这两种数据结构的结合使用，`ZSET`能够提供高效的性能特性，使其适用于实现排行榜、优先队列、带有分数的集合管理等场景。跳跃表负责维护元素的排序，而散列表则提供了快速的分数查找能力。这种设计使得`ZSET`在Redis中成为一种非常强大和灵活的数据结构。

你说项目中使用redis的map类型，那你map类型里存的是什么数据

Redis的键有没有设置过期时间

项目中使用的Redis键的过期淘汰策略是什么

怎么保证数据库和Redis数据的一致性

Redis的扩容机制

你提到了消息队列，在项目中怎么使用消息队列的

kafka消息队列的结构

kafka的partiton和topic

你是怎么从消息队列中消费数据的，具体怎么实现

springboot中的IOC和AOP

AOP的实际应用有哪些

静态代理和动态代理

线程池怎么用的

ThreadLocal的几个参数（核心线程数、最大线程数、阻塞队列、拒绝策略）是用来干啥的

你是怎么设置线程池的参数的，为什么这样设置

多线程的优点和缺点

mysql索引有哪几种

聚簇索引和非聚簇索引的区别

非聚簇索引的查询过程是什么

什么是回表查询

B+树和B树的区别

为什么innodb用B+树不用B树

B+树和Redis中Zset的区别

在项目中，ElasticSearch是怎么使用的

为什么使用ElasticSearch，不用mysql、redis之类的数据库

说几个linux的基本命令

HashMap的底层是什么

HashMap怎么解决Hash冲突的

算法题：三数之和

### 反问

- 作为一个面试官，你对的应聘者有什么要求？

  在生产环境中，springboot、redis、消息队列、mysql、多线程这些都是常用的，这些基础一定要熟练。像针对亿万级数据的查询，普通的mysql查询太慢会直接把服务搞挂掉，所以优化的思路和实现很重要。

- 我感觉技术比较薄弱，有什么推荐的项目吗？

  直观来看互联网大厂的项目和实习最重要。平时可以试试redis集群部署，搞几个虚拟机用docker布一下。mysql多搞些数据优化一下等等。具体的项目没有。







