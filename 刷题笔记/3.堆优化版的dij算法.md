## 堆优化版的dijkstra算法

在一个稀疏图中，如果两层for遍历10^5，内存就会爆掉。

###  优先队列

优先队列（Priority Queue）是一种特殊的队列数据结构，其中每个元素都有一个关联的优先级。与普通队列不同，优先队列的元素并不按照插入的顺序进行处理，而是按照它们的优先级来排序和处理。在优先队列中，具有高优先级的元素在处理时先被取出。

优先队列支持两种基本操作：插入（Insert）和取出最高优先级的元素（Extract-Max或Extract-Min，具体取决于是最大优先级还是最小优先级优先队列）。除了这些基本操作，通常还包括改变元素优先级的操作。

实现优先队列的方法有多种，包括使用二叉堆（最小堆和最大堆）、斐波那契堆、二项堆等数据结构。不同的实现方法在时间和空间复杂度上有所不同，选择合适的实现取决于具体的应用需求。

优先队列在许多算法和应用中都有广泛的应用，例如在图算法（如Dijkstra算法和Prim算法）中，调度算法，搜索算法等。

**大根堆**：所有子节点大于父节点

**小根堆**：所有子节点小于父节点

### java初始化优先队列

小根堆（默认）：

```java
import java.util.PriorityQueue;

public class PriorityQueueExample {
    public static void main(String[] args) {
        // 创建优先队列
        PriorityQueue<Integer> priorityQueue = new PriorityQueue<>();

        // 添加元素
        priorityQueue.offer(5);
        priorityQueue.offer(2);
        priorityQueue.offer(8);

        // 获取并移除队列中的元素
        while (!priorityQueue.isEmpty()) {
            Integer head = priorityQueue.poll();
            System.out.println("Removed: " + head);
        }
    }
}
```

大根堆：

```java
import java.util.PriorityQueue;
import java.util.Collections; // 用于获取逆序的比较器

public class MaxHeapPriorityQueueExample {
    public static void main(String[] args) {
        // 创建大顶堆优先队列
        PriorityQueue<Integer> maxHeap = new PriorityQueue<>(Collections.reverseOrder());

        // 添加元素
        maxHeap.offer(5);
        maxHeap.offer(2);
        maxHeap.offer(8);

        // 获取并移除队列中的元素
        while (!maxHeap.isEmpty()) {
            Integer head = maxHeap.poll();
            System.out.println("Removed: " + head);
        }
    }
}
```
