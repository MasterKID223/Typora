### [TORCH.TENSOR.SCATTER_](https://pytorch.org/docs/stable/generated/torch.Tensor.scatter_.html#torch.Tensor.scatter_)

现在换成`scatter`变成`scatter_`。

按照给出的索引index，把src里的值写入self中。

怎么确定src中的值x输出到self中的哪个位置：x在src中的维度 `dimension != dim` ，在index中对应值的维度 `dimension = dim` 。

> For each value in `src`, its output index is specified by its index in `src` for `dimension != dim` and by the corresponding value in `index` for `dimension = dim`.

- 函数

  ```python
  Tensor.scatter_(dim, index, src, reduce=None) → Tensor
  ```

- 公式

  对于一个3-D的张量：

  ```python
  self[index[i][j][k]][j][k] = src[i][j][k]  # if dim == 0
  self[i][index[i][j][k]][k] = src[i][j][k]  # if dim == 1
  self[i][j][index[i][j][k]] = src[i][j][k]  # if dim == 2
  ```

- 输入

  self, index, src维度应该相等。对于所有维度d，需要满足 `index.size(d) <= src.size(d)`，对于所有 `d != dim` 的维度，满足 `index.size(d) <= self.size(d)` 。index和src不能利用广播机制。

- 例子

  ```python
  >>> src = torch.arange(1, 11).reshape((2, 5))
  >>> src
  tensor([[ 1,  2,  3,  4,  5],
          [ 6,  7,  8,  9, 10]])
  >>> index = torch.tensor([[0, 1, 2, 0]])
  >>> torch.zeros(3, 5, dtype=src.dtype).scatter_(0, index, src)
  tensor([[1, 0, 0, 4, 0],
          [0, 2, 0, 0, 0],
          [0, 0, 3, 0, 0]])
  '''
  self[index[i][j]][j] = src[i][j]
  self[0][0] = 1, self[0][1] = 2, self[0][2] = 3, self[0][3] = 4, self[0][4] = 5,
  index[0][0] = 0, index[0][1] = 1, index[0][2] = 2, index[0][3] = 0, index[0][4] = 超出范围了, 
  '''
  ```

  